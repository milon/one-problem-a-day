<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="description" content="Solve one problem per day">

        <meta property="og:title" content="Concatenated words | One problem a day"/>
        <meta property="og:type" content="article" />
        <meta property="og:url" content="https://one-problem-a-day.milon.im/problems/concatenated-words"/>
        <meta property="og:description" content="Solve one problem per day" />

        <title>Concatenated words | One problem a day</title>

        <link rel="home" href="https://one-problem-a-day.milon.im">
        <link rel="icon" href="/assets/images/favicon.ico">

                    <!-- Global site tag (gtag.js) - Google Analytics -->
            <script async src="https://www.googletagmanager.com/gtag/js?id=G-DPNYL8WECN"></script>
            <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){dataLayer.push(arguments);}
                gtag('js', new Date());

                gtag('config', 'G-DPNYL8WECN');
            </script>
        
        <link href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Nunito+Sans:300,300i,400,400i,600,700,700i,800,800i" rel="stylesheet">
        <link rel="stylesheet" href="/assets/build/css/main.css?id=86ddee774e0bcf5a1bf6b25f7c738cbb">
    </head>

    <body class="flex flex-col justify-between min-h-screen bg-gray-100 text-gray-800 leading-normal font-sans">
        <header class="flex items-center shadow bg-white border-b h-24 py-4" role="banner">
            <div class="container flex items-center max-w-8xl mx-auto px-4 lg:px-8">
                <div class="flex items-center">
                    <a href="/" title="One problem a day home" class="inline-flex items-center">
                        <img class="h-8 md:h-10 mr-3" src="/assets/images/logo.svg" alt="One problem a day logo" />

                        <h1 class="text-lg md:text-2xl text-indigo-500 font-semibold hover:text-indigo-700 my-0">One problem a day</h1>
                    </a>
                </div>

                <div id="vue-search" class="flex flex-1 justify-end items-center">
                    <search></search>

                    <nav class="hidden lg:flex items-center justify-end text-lg">
    <a title="One problem a day - Problems" href="/problems"
        class="ml-6 text-gray-700 hover:text-indigo-600 ">
        Problems
    </a>
    <a title="One problem a day - About" href="/about"
        class="ml-6 text-gray-700 hover:text-indigo-600 ">
        About
    </a>
</nav>

                    <button class="flex justify-center items-center bg-indigo-500 border border-indigo-500 h-10 px-5 rounded-full lg:hidden focus:outline-none"
    onclick="navMenu.toggle()"
>
    <svg id="js-nav-menu-show" xmlns="http://www.w3.org/2000/svg"
        class="fill-current text-white h-9 w-4" viewBox="0 0 32 32"
    >
        <path d="M4,10h24c1.104,0,2-0.896,2-2s-0.896-2-2-2H4C2.896,6,2,6.896,2,8S2.896,10,4,10z M28,14H4c-1.104,0-2,0.896-2,2  s0.896,2,2,2h24c1.104,0,2-0.896,2-2S29.104,14,28,14z M28,22H4c-1.104,0-2,0.896-2,2s0.896,2,2,2h24c1.104,0,2-0.896,2-2  S29.104,22,28,22z"/>
    </svg>

    <svg id="js-nav-menu-hide" xmlns="http://www.w3.org/2000/svg"
        class="hidden fill-current text-white h-9 w-4" viewBox="0 0 36 30"
    >
        <polygon points="32.8,4.4 28.6,0.2 18,10.8 7.4,0.2 3.2,4.4 13.8,15 3.2,25.6 7.4,29.8 18,19.2 28.6,29.8 32.8,25.6 22.2,15 "/>
    </svg>
</button>

                </div>
            </div>
        </header>

        <nav id="js-nav-menu" class="w-auto px-2 pt-6 pb-2 bg-gray-200 shadow hidden lg:hidden">
    <ul class="my-0 list-none">
        <li class="pl-4 block">
            <a
                title="One problem a day"
                href="/"
                class="block mt-0 mb-4 text-sm no-underline text-gray-800 hover:text-indigo-500"
            >Home</a>
        </li>
        <li class="pl-4 block">
            <a
                title="One problem a day Problems"
                href="/problems"
                class="block mt-0 mb-4 text-sm no-underline text-gray-800 hover:text-indigo-500"
            >Problems</a>
        </li>
        <li class="pl-4 block">
            <a
                title="One problem a day About"
                href="/about"
                class="block mt-0 mb-4 text-sm no-underline text-gray-800 hover:text-indigo-500"
            >About</a>
        </li>
    </ul>
</nav>

        <main role="main" class="flex-auto w-full container max-w-4xl mx-auto py-16 px-6">
                
    <h1 class="leading-none mb-2">Concatenated words</h1>

    <p class="text-gray-700 text-xl md:mt-0">January 27, 2023</p>

                        <a
                href="/categories/trie"
                title="View posts in trie"
                class="inline-block bg-gray-300 hover:bg-indigo-200 leading-loose tracking-wide text-gray-800 uppercase text-xs font-semibold rounded mr-4 px-3 pt-px"
            >trie</a>
            
    <div class="border-b border-indigo-200 mb-10 pb-4" v-pre>
        <p class="font-semibold">Problem URL: <a target="_blank" href="https://leetcode.com/problems/concatenated-words/">Concatenated words</a></p>
        <p>We can use the Trie data structure trie to store the words. Then for each word in the list of words, we use depth first search to see whether it is a concatenation of two or more words from the list. We first build a trie structure that stores the list of words. In every trie node, we use an array of length 26 to store possible next trie node, and a flag to indicate whether the trie node is the last letter of a word in the dictionary.</p>

<ul>
<li>Suppose we have a list of words like this, words = [“cat”, “cats”, “catsdogcats”, “dog”, “dogcatsdog”, “hippopotamuses”, “rat”, “ratcatdogcat”]. The trie structure we build looks like the following. If the node is an end of a word, there is a * next to it.</li>
<li>Next, for each word in the sentence, we search whether the word is a concatenation of two or more other words from the list. We can use depth first search here.</li>
<li>For each word, we start from the root node of the trie and the first letter of the word. If the letter is not null in the current trie node, we go to the next trie node of that letter. We keep searching until the trie node is an end of a word (with a * in the above graph).</li>
<li>We increase the count of words the comprise the current word. Then we start from the root node of the trie again, and keep on searching until we reach the end of the current word. If we cannot find the letter in the trie, we go backtrack to the last run of trie nodes and continue the search.</li>
<li>If we can find a concatenation of words that reaches the end of the current word, we check how many words are concatenated. If it is greater than 2, we put the current word to the final answer.</li>
</ul>

<pre><code class="language-python">class TrieNode:
    def __init__(self):
        self.children = [None] * 26
        self.is_end = False

class Solution:
    def __init__(self):
        self.root = TrieNode()

    def insert(self, root, key):
        curr = root
        for i in range(len(key)):
            idx = ord(key[i]) - ord('a')
            if not curr.children[idx]:
                curr.children[idx] = TrieNode()
            curr = curr.children[idx]
        curr.is_end = True

    def dfs(self, root, key, index, count):
        if index &gt;= len(key):
            return count &gt; 1
        curr = root
        for i in range(index, len(key)):
            p = ord(key[i]) - ord('a')
            if not curr.children[p]:
                return False
            curr = curr.children[p]
            if curr.is_end:
                if self.dfs(root, key, i+1, count+1):
                    return True
        return False

    def findAllConcatenatedWordsInADict(self, words):
        for i in range(len(words)):
            self.insert(self.root, words[i])

        res = []
        for i in range(len(words)):
            if self.dfs(self.root, words[i], 0, 0):
                res.append(words[i])

        return res
</code></pre>

<p>Time complexity: <code>O(n^2)</code> <br/>
Space complexity: <code>O(n)</code></p>
    </div>

    <nav class="flex justify-between text-sm md:text-base">
        <div>
                            <a href="https://one-problem-a-day.milon.im/problems/find-closest-node-to-given-two-nodes" title="Older Post: Find closest node to given two nodes">
                    &LeftArrow; Find closest node to given two nodes
                </a>
                    </div>

        <div>
                            <a href="https://one-problem-a-day.milon.im/problems/data-stream-as-disjoint-intervals" title="Newer Post: Data stream as disjoint intervals">
                    Data stream as disjoint intervals &RightArrow;
                </a>
                    </div>
    </nav>
        </main>

        <footer class="bg-white text-center text-sm mt-12 py-4" role="contentinfo">
            <ul class="flex flex-col md:flex-row justify-center list-none">
                <li class="md:mr-2">
                    &copy; <a href="/" title="One problem a day">One problem a day</a> 2025.
                </li>
            </ul>
        </footer>

        <script src="/assets/build/js/main.js?id=b0c78f41caeb91e04be3118d364810dc"></script>

        <script>
    const navMenu = {
        toggle() {
            const menu = document.getElementById('js-nav-menu');
            menu.classList.toggle('hidden');
            menu.classList.toggle('lg:block');
            document.getElementById('js-nav-menu-hide').classList.toggle('hidden');
            document.getElementById('js-nav-menu-show').classList.toggle('hidden');
        },
    }
</script>
    </body>
</html>
